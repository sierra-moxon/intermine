<?xml version="1.0"?>
<classes>
  <class name="OriginOfReplication"
    extends="Region" is-interface="true"/>
  <class name="HistoneBindingSite"
    extends="ProteinBindingSite" is-interface="true"/>
  <class name="TranscriptRegion"
    extends="Region" is-interface="true"/>

  <class name="Project"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="title" type="java.lang.String" />
    <attribute name="surnamePI" type="java.lang.String" />
    <attribute name="namePI" type="java.lang.String" />
    <attribute name="url" type="java.lang.String" />
    <collection name="labs"
      referenced-type="Lab"
      reverse-reference="project" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="project" />
    <collection name="organisms" 
      referenced-type="Organism" />
  </class>

  <class name="Lab"
    extends="DataSource" is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="surname" type="java.lang.String" />
    <attribute name="affiliation" type="java.lang.String" />
    <reference name="project"
      referenced-type="Project"
      reverse-reference="labs" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="lab" />
  </class>

  <class name="Submission"
    extends="DataSet" is-interface="true">
    <attribute name="title" type="java.lang.String" />
    <attribute name="description" type="java.lang.String" />
    <attribute name="design" type="java.lang.String" />
    <attribute name="factorType" type="java.lang.String" />
    <attribute name="factorName" type="java.lang.String" />
    <attribute name="qualityControl" type="java.lang.String" />
    <attribute name="replicate" type="java.lang.String" />
    <attribute name="experimentDate" type="java.util.Date" />
    <attribute name="publicReleaseDate" type="java.util.Date" />     
    <attribute name="DCCid" type="java.lang.Integer" />     
  <reference name="organism"
      referenced-type="Organism" />
    <!-- 
      <reference name="publication" referenced-type="Publication"/>
      <attribute name="fileFormat" type="java.lang.String"/>
    -->
    <reference name="lab"
      referenced-type="Lab"
      reverse-reference="submissions" />
    <reference name="project"
      referenced-type="Project"
      reverse-reference="submissions" />
    <collection name="appliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="submission" />
    <collection name="protocols"
      referenced-type="Protocol"
      reverse-reference="submissions" />
    <collection name="submissionData"
      referenced-type="SubmissionData"
      reverse-reference="submission" />
    <collection name="outputs"
      referenced-type="SubmissionData" />
    <collection name="inputs"
      referenced-type="SubmissionData" />
  </class>

  <class name="Protocol"  
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="description" type="java.lang.String" />
    <attribute name="type" type="java.lang.String" />
    <attribute name="url" type="java.lang.String" />
    <attribute name="arrayDataFile" type="java.lang.String" />
    <attribute name="derivedArrayDataFile" type="java.lang.String" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="protocols" />
    <collection name="appliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="protocol" />
  </class>

  <class name="AppliedProtocol"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <!-- parameter values -->
    <attribute name="label" type="java.lang.String" />
    <reference name="protocol"
      referenced-type="Protocol"
      reverse-reference="appliedProtocols" />
    <reference name="submission"
      referenced-type="Submission"
      reverse-reference="appliedProtocols" />
    <collection name="inputs"
      referenced-type="SubmissionData"
      reverse-reference="nextAppliedProtocols" />
    <collection name="outputs"
      referenced-type="SubmissionData"
      reverse-reference="previousAppliedProtocols" />
  </class>

  <class name="SubmissionData"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
<!-- rm after swap back to dataId 
    <attribute name="direction" type="java.lang.String" />
-->
    <attribute name="type" type="java.lang.String" />
    <attribute name="value" type="java.lang.String" />
    <collection name="dataAttributes"
      referenced-type="SubmissionDataAttribute"
      reverse-reference="submissionData" />
    <collection name="features"
      referenced-type="LocatedSequenceFeature" />
    <collection name="nextAppliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="inputs" />
    <collection name="previousAppliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="outputs" />
    <reference name="submission"
      referenced-type="Submission"
      reverse-reference="submissionData" />
    <collection name="initialData"
      referenced-type="SubmissionData"/>
    <collection name="resultData"
      referenced-type="SubmissionData"/>
  </class>


  <class name="SubmissionDataAttribute"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="value" type="java.lang.String" />
    <attribute name="type" type="java.lang.String" />
    <reference name="submissionData"
      referenced-type="SubmissionData"
      reverse-reference="dataAttributes" />
</class>


</classes>

<!-- from rns new schema? to rm ex-AP
  <collection name="attributes"
  referenced-type="SubmissionData"
  reverse-reference="appliedProtocol" />
  <collection name="appliedProtocols"
  referenced-type="AppliedProtocol"
  reverse-reference="protocols" />
-->
<!-- source attributes -->
<!-- 
  <attribute name="source" type="java.lang.String" />
  <attribute name="RNAId" type="java.lang.String" />
  <attribute name="cellType" type="java.lang.String" />
  <attribute name="biosampleNr" type="java.lang.String" />
  <attribute name="characteristics" type="java.lang.String" />
-->
<!-- hybridization name -->
<!-- <attribute name="hybridizationName" type="java.lang.String" /> -->
<!-- parameter value attributes -->
<!-- <attribute name="unit" type="java.lang.String" />-->


<!--  <collection name="outputs"
  referenced-type="SubmissionData" />
-->
<!-- 
  <collection name="nextAppliedProtocols"
  referenced-type="AppliedProtocol"
  reverse-reference="previousAppliedProtocols" />
  <collection name="previousAppliedProtocols"
  referenced-type="AppliedProtocol"
  reverse-reference="nextAppliedProtocols" />
-->
