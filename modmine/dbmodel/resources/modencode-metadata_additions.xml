<?xml version="1.0"?>
<classes>
  <class name="CDNA"
    extends="Region" is-interface="true"/>
  <class name="NaturalTransposableElement"
    extends="Region" is-interface="true"/>
  <class name="StopCodon"
    extends="Codon" is-interface="true"/>
  <class name="StartCodon"
    extends="Codon" is-interface="true"/>
  <class name="OriginOfReplication"
    extends="Region" is-interface="true"/>
  <class name="HistoneBindingSite"
    extends="ProteinBindingSite" is-interface="true"/>
  <class name="TranscriptRegion"
    extends="Region" is-interface="true"/>
  <class name="CopyNumberVariation"
    extends="SequenceVariant" is-interface="true"/>
  <class name="PolyASite"
    extends="Region" is-interface="true"/>
  <class name="ThreePrimeRACEClone"
    extends="Region" is-interface="true"/>
  <class name="ThreePrimeRST"
    extends="Region" is-interface="true"/>
  <class name="ThreePrimeUST"
    extends="Region" is-interface="true"/>
  <class name="ThreePrimeUTR"
    extends="Region" is-interface="true"/>

  <class name="Project"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="title" type="java.lang.String" />
    <attribute name="surnamePI" type="java.lang.String" />
    <attribute name="namePI" type="java.lang.String" />
    <attribute name="url" type="java.lang.String" />
    <collection name="labs"
      referenced-type="Lab"
      reverse-reference="project" />
    <collection name="experiments"
      referenced-type="Experiment"
      reverse-reference="project" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="project" />
    <collection name="organisms" 
      referenced-type="Organism" />
  </class>

  <class name="Lab"
    extends="DataSource" is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="surname" type="java.lang.String" />
    <attribute name="affiliation" type="java.lang.String" />
    <reference name="project"
      referenced-type="Project"
      reverse-reference="labs" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="lab" />
  </class>

  <class name="Experiment"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <reference name="project"
      referenced-type="Project"
      reverse-reference="experiments" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="experiment" />
  </class>

  <class name="Submission"
    extends="DataSet" is-interface="true">
    <attribute name="title" type="java.lang.String" />
    <attribute name="description" type="java.lang.String" />
    <attribute name="design" type="java.lang.String" />
    <attribute name="qualityControl" type="java.lang.String" />
    <attribute name="replicate" type="java.lang.String" />
    <attribute name="experimentDate" type="java.util.Date" />
    <attribute name="publicReleaseDate" type="java.util.Date" />     
    <attribute name="DCCid" type="java.lang.Integer" />     
    <attribute name="experimentType" type="java.lang.String" />     
  <reference name="organism"
      referenced-type="Organism" />
    <!-- 
      <reference name="publication" referenced-type="Publication"/>
      <attribute name="fileFormat" type="java.lang.String"/>
    -->
    <reference name="experiment"
      referenced-type="Experiment"
      reverse-reference="submissions" />
    <reference name="lab"
      referenced-type="Lab"
      reverse-reference="submissions" />
    <reference name="project"
      referenced-type="Project"
      reverse-reference="submissions" />
    <collection name="appliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="submission" />
    <collection name="protocols"
      referenced-type="Protocol"
      reverse-reference="submissions" />
    <collection name="submissionData"
      referenced-type="SubmissionData"
      reverse-reference="submission" />
    <collection name="experimentalFactors"
      referenced-type="ExperimentalFactor"
      reverse-reference="submissions" />

    <!-- <collection name="attributes" referenced-type="SubmissionAttribute" reverse-reference="submissions"/>-->
    <collection name="antibodies" referenced-type="Antibody" reverse-reference="submissions"/>
    <collection name="developmentalStages" referenced-type="DevelopmentalStage" reverse-reference="submissions"/>
    <collection name="cellLines" referenced-type="CellLine" reverse-reference="submissions"/>
    <collection name="strains" referenced-type="Strain" reverse-reference="submissions"/>
    <collection name="arrays" referenced-type="Array" reverse-reference="submissions"/>

  </class>

  <class name="ExperimentalFactor"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="type" type="java.lang.String" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="experimentalFactors" />
  </class>

<!-- temp --> 
  <class name="ExpFac"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="type" type="java.lang.String" />
  </class>

  <class name="Protocol"  
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="description" type="java.lang.String" />
    <attribute name="type" type="java.lang.String" />
    <attribute name="url" type="java.lang.String" />
    <attribute name="arrayDataFile" type="java.lang.String" />
    <attribute name="derivedArrayDataFile" type="java.lang.String" />
    <collection name="submissions"
      referenced-type="Submission"
      reverse-reference="protocols" />
    <collection name="appliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="protocol" />
  </class>

  <class name="AppliedProtocol"
    is-interface="true">
    <attribute name="step" type="java.lang.Integer" />
    <attribute name="name" type="java.lang.String" />
    <!-- parameter values 
    <attribute name="label" type="java.lang.String" />
-->
    <reference name="protocol"
      referenced-type="Protocol"
      reverse-reference="appliedProtocols" />
    <reference name="submission"
      referenced-type="Submission"
      reverse-reference="appliedProtocols" />
    <collection name="inputs"
      referenced-type="SubmissionData"
      reverse-reference="nextAppliedProtocols" />
    <collection name="outputs"
      referenced-type="SubmissionData"
      reverse-reference="previousAppliedProtocols" />
  </class>

  <class name="SubmissionData"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
<!-- rm after swap back to dataId 
    <attribute name="direction" type="java.lang.String" />
-->
    <attribute name="type" type="java.lang.String" />
    <attribute name="value" type="java.lang.String" />
    <collection name="dataAttributes"
      referenced-type="SubmissionDataAttribute"
      reverse-reference="submissionData" />
    <collection name="features"
      referenced-type="LocatedSequenceFeature" />
    <collection name="nextAppliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="inputs" />
    <collection name="previousAppliedProtocols"
      referenced-type="AppliedProtocol"
      reverse-reference="outputs" />
    <reference name="submission"
      referenced-type="Submission"
      reverse-reference="submissionData" />
    <collection name="initialData"
      referenced-type="SubmissionData"/>
    <collection name="resultData"
      referenced-type="SubmissionData"/>
  </class>

  <class name="SubmissionDataAttribute"
    is-interface="true">
    <attribute name="name" type="java.lang.String" />
    <attribute name="value" type="java.lang.String" />
    <attribute name="type" type="java.lang.String" />
    <reference name="submissionData"
      referenced-type="SubmissionData"
      reverse-reference="dataAttributes" />
  </class>

<!--  rns, to be superclass of attribute types -->
  <!--<class name="SubmissionAttribute" is-interface="true">
    <attribute name="name" type="java.lang.String"/>
    <attribute name="type" type="java.lang.String"/>
    <collection name="submissions" referenced-type="Submission" reverse-reference="attributes" />
  </class>-->

  <class name="CellLine" is-interface="true">
    <attribute name="name" type="java.lang.String"/>
    <attribute name="sex" type="java.lang.String"/>
    <attribute name="description" type="java.lang.String"/>
    <attribute name="cellType" type="java.lang.String"/>
    <attribute name="tissue" type="java.lang.String"/>
    <attribute name="species" type="java.lang.String"/>
    <collection name="submissions" referenced-type="Submission" reverse-reference="cellLines" />
  </class>

  <class name="Strain" is-interface="true">
    <attribute name="name" type="java.lang.String"/>
    <attribute name="species" type="java.lang.String"/>
    <attribute name="source" type="java.lang.String"/>
    <attribute name="reference" type="java.lang.String"/>
    <collection name="submissions" referenced-type="Submission" reverse-reference="strains" />
  </class>
  
  <class name="DevelopmentalStage" is-interface="true">
    <attribute name="name" type="java.lang.String"/>
    <attribute name="sex" type="java.lang.String"/>
    <collection name="ontologyTerms" referenced-type="OntologyTerm"/>
    <collection name="submissions" referenced-type="Submission" reverse-reference="developmentalStages" />
  </class>
  
  <class name="Antibody" is-interface="true">
    <attribute name="name" type="java.lang.String"/>
    <attribute name="hostOrganism" type="java.lang.String"/>
    <attribute name="targetName" type="java.lang.String"/>
    <attribute name="antigen" type="java.lang.String"/>
    <reference name="target" referenced-type="Gene"/>
    <collection name="submissions" referenced-type="Submission" reverse-reference="antibodies" />
  </class>

  <class name="Array" is-interface="true">
    <attribute name="name" type="java.lang.String"/>
    <attribute name="platform" type="java.lang.String"/>
    <attribute name="resolution" type="java.lang.String"/>
    <attribute name="genome" type="java.lang.String"/>
    <collection name="submissions" referenced-type="Submission" reverse-reference="arrays" />
  </class>
  
</classes>
