<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD Simplified DocBook XML V1.0//EN"
"http://www.oasis-open.org/docbook/xml/simple/1.0/sdocbook.dtd">
<article>
  <section>
    <title>Tutorial 7: Building a template</title>

    <para>Any query that has been built using the FlyMine QueryBuilder
    (see <ulink url="tutorial6-QB.xml">Tutorial 6</ulink>) can
    be saved as a template query, as long as it includes at least one
    editable constraint. In order to build a template you need to be
    logged-in into FlyMine. Templates that you create yourself are
    saved to your history.</para>

    <para>This tutorial will show you how to build a new template. As
    an example, we will make a template starting from the query
    created in <ulink url="tutorial6-QB.xml">Tutorial 6</ulink>:
    'Show all genes on the 4th chromosome of <emphasis>Drosophila
    melanogaster</emphasis>'. After building the query 'Show all genes
    on the 4th chromosome of <emphasis>Drosophila
    melanogaster</emphasis>' (see <ulink
    url="tutorial6-QB.xml">Tutorial 6</ulink>), while being
    logged-in, scroll down and click on 'Start building a template
    query'.</para>

        <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-start.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

    <para>When building a query with the QueryBuilder, none of the
    constraints will be editable. However, at least one constraint
    needs to be editable in order to be able to save the query as a
    template. To make a constraint editable, click on the lock next to
    the constraint: A field with 'Template constraint settings' will
    appear in the right column. Click in the tick-box next to
    'Editable'. At the same time, it is possible to add a label to the
    editable constraint (optional) to clarify what it is by typing in
    a label in 'Constraint label'. Click on the 'Update' button in
    this field. The label will appear on the template page after
    creating the template (see below).</para>
 
        <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-edit.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

   <para>An editable constraint will have an open lock in the
   constraint list, whereas the lock of a constraint that cannot be
   edited will appear locked. The label of the editable constraint
   will appear below the constraint, in italics.</para>

      <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-label.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

    <para>If no label was added after a constraint was made editable,
    'no label' will appear under the constraint. Clicking on 'no
    label' allows you to add a label. Click on 'Update' to implement
    the change.</para>

        <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-nolabel.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

    <para>Each new template requires a name and a description. The
    description will appear on the template page and in your list of
    template queries, after creating the template (see
    below). Therefore, it should provide as much information as
    possible about what the template will do. Moreover, it should be
    distinguishable from other template queries. After filling the
    'Name' and 'Description' boxes, click on 'Update settings' below
    the boxes.</para>

        <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-name.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>


    <para>Before creating a template, preview the template and make
    any changes, if necessary. To save this query as a template, click
    on 'Create template'.</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-preview.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

    <para>You will be able to view and run this template from your
    history page. Access your history page via the 'History' button in
    the top menu bar on every FlyMine page. Your templates will be
    saved under 'Saved Template Queries'. To go to a template page,
    click on the name of the template. A yellow star next to the query
    name marks it as a favourite query. To mark a template as a
    favourite, click on the star icon next to the template name. As a
    result, the star will become yellow. Once a template has been
    created, it can still be edited, by clicking on 'Edit' in the
    'Actions' column. The templates can als be exported in xml
    format.</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-history.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
 
    <para>- The template page can be viewed and run from your History page.</para> 

        <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-template.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

    <para>- The template can be exported in xml format.</para> 

        <mediaobject>
          <imageobject>
            <imagedata fileref="buildtemp-export.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

  </section>
</article>

