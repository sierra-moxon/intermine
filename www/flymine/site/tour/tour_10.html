<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" style="padding: 0px">
  <head>
    <title>FlyMine Tour page 10 - Query Builder</title>
    <link media="screen,print" href="../style/base.css" type="text/css" rel="stylesheet" />
    <link media="screen,print" href="../style/branding.css" type="text/css" rel="stylesheet" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
  </head>
  <body>
    <div class="tour">
      <table width="100%">
        <tr>
          <td colspan="3" align="right">
            <span style="padding: 3px; font-size: 70%;" onclick="window.close()">close
              <img src="../images/close.png" title="Close" onmouseout="this.style.cursor='normal';" 
                   onmouseover="this.style.cursor='pointer';"/>
            </span>
          </td>
        </tr>
      </table>
      <div class="heading">
        <table width="100%">
          <tr>
            <td width="20%" align="left" valign="top">
<a href="tour_9.html">previous</a>
            </td>
            <td width="60%" rowspan="2" align="center" valign="top">
              <span class="title">
Query Builder &#160; &#160; (10/11)
              </span>
            </td>
            <td width="20%" align="right" valign="top">
<a href="tour_11.html">next</a>
            </td>
          </tr>
          <tr>
            <td width="20%" align="left" class="nextprev" valign="top">
Use bags in template queries
            </td>
            <td width="20%" align="right" class="nextprev" valign="top">
MyMine
            </td>
          </tr>
        </table>
      </div>
      <div style="padding-top: 20px" class="content">
        <div >

<p>The QueryBuilder allows you to edit queries or create new ones.  It is aimed at advanced users but editing a template query to change the output or add a filter is easy.</p>

<p><b>Click on 'Query' in the Trail to get back to the template form.</b></p>

<img alt="[Click on trail]"  src="click_on_trail.png"/>

<p><b>Now click 'Edit Query' to bring up the QueryBuilder.</b></p>

<p><img alt="[Click edit query]"  src="click_edit_query.png"/></p>


<p>The pane on the left is a view of the data model starting at the TFBindingSite class and showing all attributes (e.g. name, symbol) and related classes (e.g. organism, proteins).  FlyMine uses an object based data model - biological types are termed 'classes' and individual entries are termed 'objects'.  For example the 'zen' and 'eve' genes are both objects of the class Gene.</p>

<p>You can click <img alt="[plus]" src="plus.gif"/> to open related classes and see their attributes.  Use the <img alt="[show]"  src="show.gif"/> button to add fields to the output.  The <img alt="[constrain]" src="constrain.gif"/> button lets you add constraints (filters). </p> 

<img alt="[query builder]"  src="query_builder.png"/>

<p>The query summary section shows the constraints applied to this query.  Notice that one of them says 'factor Gene' then 'IN demo bag'.  This shows us that the search is using just the transcription factors from the bag we saved earlier.</p> 

<p>What if we want to search for <b>all</b> transcription factors in FlyMine and find the genes they regulate?  We can just remove this constraint and run the query again.</p> 

<p><b>Click on the <img alt="[red cross]"  src="cross.gif"/> button next to 'IN demo bag' to remove the constraint.</b></p>

<img alt="[remove constraint]"  src="remove_constraint.png"/>

<p><b>Now click 'Show results' to run the query.</b></p>

<img alt="[click show results]"  src="click_show_results.png"/>

<p>The results table now shows all the transcription factors in FlyMine, the genes they regulate and the data set that provided this infomation.  You can use the summary buttons <img alt="[summary icon]"  src="summary_maths.png" valign="middle"/> on the 'Transcription factor > symbol' and 'Regulated gene > symbol' columns to find more information about the numbers of each.</p>




        </div>
      </div>
      <div class="heading">
        <table width="100%">
          <tr>
            <td width="20%" align="left" valign="top">
<a href="tour_9.html">previous</a>
            </td>
            <td width="60%" rowspan="2" align="center" valign="top">
              <span class="title">
10/11
              </span>
            </td>
            <td width="20%" align="right" valign="top">
<a href="tour_11.html">next</a>
            </td>
          </tr>
          <tr>
            <td width="20%" align="left" class="nextprev" valign="top">
Use bags in template queries
            </td>
            <td width="20%" align="right" class="nextprev" valign="top">
MyMine
            </td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>
