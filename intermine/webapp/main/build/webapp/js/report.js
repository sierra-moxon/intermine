function trimTable(e){var table=jQuery(e).find("table");var rows=table.find("tbody tr");if(rows.length>10){var count=10;rows.each(function(index){if(count>0){count--;}else{jQuery(this).css("display","none");}});var target=(jQuery.browser.msie)?table.parent():table.parent().parent();jQuery("<div/>",{"class":"toggle",html:jQuery("<a/>",{"class":"more",text:"Show more rows",title:"Show more rows",style:"float:right;",click:function(event){showMoreRows(e,1,10);event.preventDefault();}})}).appendTo(target);}}function showMoreRows(e,round,maxCount){var table=jQuery(e+" table");var count=maxCount;var rows=table.find("tbody tr:hidden");rows.each(function(index){if(count>0){jQuery(this).css("display","");count=parseInt(count)-1;}});if(round==1){jQuery("<a/>",{href:"#","class":"less",style:"float:right;margin-left:20px;",text:"Collapse",title:"Collapse",html:jQuery("<span/>",{text:"Collapse"}),click:function(event){collapseTable(e,maxCount);event.preventDefault();}}).appendTo(table.parent().parent().find("div.toggle"));table.parent().parent().find("div.show-in-table").css("display","");}if(count>0||round==((numberOfTableRowsToShow/10)-1)){table.parent().parent().find("div.toggle a.more").hide();}else{round=parseInt(round)+1;table.parent().parent().find("div.toggle a.more").remove();jQuery("<a/>",{"class":"more",text:"Show more rows",title:"Show more rows",style:"float:right;",click:function(event){showMoreRows(e,round,maxCount);event.preventDefault();}}).appendTo(table.parent().parent().find("div.toggle"));}return false;}function collapseTable(e,maxCount){var table=jQuery(e+" table");table.find("tbody tr").each(function(index){if(index<10){jQuery(this).show();}else{jQuery(this).hide();}});jQuery(e).scrollTo("fast","swing",-60);table.parent().parent().find("div.toggle a.less").hide();table.parent().parent().find("div.toggle a.more").remove();jQuery("<a/>",{"class":"more",text:"Show more rows",title:"Show more rows",style:"float:right;",html:jQuery("<span/>",{text:"Show more rows"}),click:function(event){showMoreRows(e,1,maxCount);event.preventDefault();}}).appendTo(table.parent().parent().find("div.toggle"));table.parent().parent().find("div.show-in-table").hide();return false;}function collapseTemplate(e,maxCount){var table=jQuery(e+" table");table.hide();jQuery(e).parent().find("p.description").hide();if(typeof jQuery(e).scrollTo=="function"){jQuery(e).scrollTo("fast","swing",-60);}table.parent().parent().find("p.in_table a.collapser").remove();table.parent().parent().find("p.in_table a.toggler").remove();table.parent().parent().find("p.in_table a.showAll").hide();jQuery("<a/>",{href:"#","class":"toggler",text:"Show more rows",title:"Show more rows",style:"float:right;",html:jQuery("<span/>",{text:"Show 10 rows"}),click:function(event){showMoreRowsTemplate(e,1,maxCount);event.preventDefault();}}).appendTo(table.parent().parent().find("p.in_table"));return false;}function showMoreRowsTemplate(e,round,maxCount){var table=jQuery(e+" table");if(round==1){table.show();var rows=table.find("tbody tr.bodyRow");rows.each(function(index){jQuery(this).hide();});}var rows=table.find("tbody tr.bodyRow:hidden");var count=maxCount;rows.each(function(index){if(count>0){jQuery(this).show();count=parseInt(count)-1;}});if(round==1){jQuery("<a/>",{href:"#","class":"collapser",style:"float:right;margin-left:20px;",text:"Collapse",title:"Collapse",html:jQuery("<span/>",{text:"Collapse"}),click:function(event){collapseTemplate(e,maxCount);event.preventDefault();}}).appendTo(table.parent().parent().find("p.in_table"));}if(count>0||round==(numberOfTableRowsToShow/10)){table.parent().parent().find("p.in_table a").css("display","");table.parent().parent().find("p.in_table a.toggler").css("display","none");}else{round=parseInt(round)+1;table.parent().parent().find("p.in_table a.toggler").remove();jQuery("<a/>",{href:"#","class":"toggler",style:"float:right;margin-left:20px;",text:"Collapse",title:"Collapse",html:jQuery("<span/>",{text:"Show 10 rows"}),click:function(event){showMoreRowsTemplate(e,round,maxCount);event.preventDefault();}}).appendTo(table.parent().parent().find("p.in_table"));}return false;}