function selectAll(columnIndex,columnClass,tableid){$$(".selectable").each(function(item){if(item.id.split("_")[1]==columnIndex){item.checked=$("selectedObjects_"+columnIndex).checked;$w(item.className).each(function(className){if(className.startsWith("id_")){objectId=className;$$("td."+objectId).each(function(cell){if(item.checked){cell.addClassName("highlightCell");}else{cell.removeClassName("highlightCell");}});}});}});if($("selectedObjects_"+columnIndex).checked){AjaxServices.selectAll(columnIndex,tableid);$("selectedIdFields").update(" All selected on all pages");}else{AjaxServices.selectAll(-1,tableid);$("selectedIdFields").update("");}disableOtherColumns(columnIndex);setToolbarAvailability(!$("selectedObjects_"+columnIndex).checked);if(isClear()){enableAll();}toggleToolbarButtons();}function toggleToolbarButtons(){if(!isClear()){jQuery("li#tool_bar_li_createlist").removeClass("inactive");jQuery("li#tool_bar_li_addtolist").removeClass("inactive");}else{jQuery("li#tool_bar_li_createlist").addClass("inactive");jQuery("li#tool_bar_li_addtolist").addClass("inactive");}}function enableAll(){$$("input.selectable").each(function(item){item.disabled=false;});}function isClear(){var selectedIdFields=$("selectedIdFields");return(selectedIdFields.innerHTML.strip()=="");}function disableOtherColumns(index){$$("input.selectable").each(function(input){if(input.id!="selectedObjects_"+index){if(!input.hasClassName("index_"+index)){input.disabled=true;}}});}function itemChecked(checkedRow,checkedColumn,tableid,checkbox,internal){var objectId;var objectClass;$w(checkbox.className).each(function(className){if(className.startsWith("id_")){objectId=className.sub("id_","");}if(className.startsWith("class_")){objectClass=className;}});if(checkbox.checked){AjaxServices.selectId(objectId,tableid,checkedColumn,{callback:function(selectedIds){$("selectedIdFields").update(selectedIds.join(", "));},async:false});}else{AjaxServices.deSelectId(objectId,tableid,{callback:function(selectedIds){$("selectedIdFields").update(selectedIds.join(", "));},async:false});}$$("td.id_"+objectId).each(function(cell){if(checkbox.checked){cell.addClassName("highlightCell");}else{cell.removeClassName("highlightCell");}});$$("input.id_"+objectId).each(function(box){box.checked=checkbox.checked;});if(isClear()){enableAll();bagType=null;}else{disableOtherColumns(checkedColumn);}var nothingSelected=$("selectedIdFields").innerHTML.strip()=="";setToolbarAvailability(nothingSelected);if(nothingSelected){unselectColumnCheckbox(checkedColumn);}toggleToolbarButtons();}function unselectColumnCheckbox(column){var enabled=true;$("selectedObjects_"+column).checked=false;$$(".selectable").each(function(item){if((item.id.split("_")[1]==column)&&(item.checked)){enabled=false;return;}});setToolbarAvailability(enabled);}function setToolbarAvailability(status){if($("newBagName")){$("newBagName").disabled=status;}if($("saveNewBag")){$("saveNewBag").disabled=status;}if($("addToBag")){with($("addToBag")){$("addToBag").disabled=status;}}if($("removeFromBag")){with($("removeFromBag")){$("removeFromBag").disabled=status;}}}function onSaveBagEnter(formName){var frm=document.forms[formName];frm.operationButton.value="saveNewBag";}