<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: InterMine::PathQuery::Query</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript" 
		charset="utf-8"></script>

	<script type="text/javascript" charset="utf-8">
		$(document).ready( function() {
			hookSourceViews();
			hookQuickSearch();
			highlightLocationTarget();

			$('ul.link-list a').bind( "click", highlightClickTarget );
		});
	</script>

</head>
<body class="class">
	
	<div id="metadata">
		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/intermine/bio.rb.html?TB_iframe=true&height=400&width=600"
							class="thickbox" title="lib/intermine/bio.rb">lib/intermine/bio.rb</a></li>
					
					</ul>
				</div>
			</div>
			
			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#bed">bed</a></li>
					
					<li><a href="#fasta">fasta</a></li>
					
					<li><a href="#gff3">gff3</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>
	
		<div id="project-metadata">
			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index</h3>
				<ul class="link-list">
				
				
					<li><a href="../../InterMine.html">InterMine</a></li>
				
				
					<li><a href="../../InterMine/Bio.html">InterMine::Bio</a></li>
				
				
					<li><a href="../../InterMine/PathQuery.html">InterMine::PathQuery</a></li>
				
				
					<li><a href="../../InterMine/PathQuery/BioError.html">InterMine::PathQuery::BioError</a></li>
				
				
					<li><a href="../../InterMine/PathQuery/Query.html">InterMine::PathQuery::Query</a></li>
				
				
					<li><a href="../../InterMine/Results.html">InterMine::Results</a></li>
				
				
					<li><a href="../../InterMine/Results/ResultsReader.html">InterMine::Results::ResultsReader</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
				
				<form action="#" method="get" accept-charset="utf-8">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value="" 
						class="quicksearch-field" />
				</fieldset>
				</form>
			</div>
		</div>
	</div>

	<div id="documentation">
		
		<h1 class="class">InterMine::PathQuery::Query</h1>
		

		<div id="description">
			<p>
Biologically specific Extensions to the <a href="Query.html">Query</a>
class.
</p>
<p>
These methods provide mechanisms for accessing results in Biologically
appropriate formats, being at present GFF3, FASTA, and UCSC-BED.
</p>
<p>
The methods provided here can be used to both return the data as a string,
and to iterate over the data in logical chunks, approriate to the format in
question.
</p>
<dl>
<dt>author</dt><dd>Alex Kalderimis dev@intermine.org

</dd>
<dt>homepage</dt><dd><a href="http://www.intermine.org">www.intermine.org</a>

</dd>
<dt>Licence</dt><dd>Copyright (C) 2002-2011 FlyMine

<p>
This code may be freely distributed and modified under the terms of the GNU
Lesser General Public Licence. This should be distributed with the code.
See the LICENSE file for more information or <a
href="http://www.gnu.org/copyleft/lesser.html">www.gnu.org/copyleft/lesser.html</a>.
</p>
</dd>
</dl>

		</div>


		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		

		
			
			<div id="bed-method" class="method-detail">
			
				<a name="bed"></a>

				<div class="method-heading">
				
					<span class="method-name">bed</span><span 
						class="method-args">(ucscCompatible=true) {|bed| ...}</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
	          		<p><p>
Return the results from this query as BED
</p>
<p>
If a block is given, each line of the BED results will be yielded in turn,
and the header will be returned, otherwise the content of the BED results
will be returned as one string.
</p>
<p>
If the optional parameter is set to false, then the "chr" prefix on the
chromosome id will be omitted.
</p>
<pre>
  header = query.bed do |line|
     process line
  end

  puts query.bed(false)
</pre></p>
					
					
					
	          		<div class="method-source-code" 
						id="bed-source">
<pre>
     <span class="ruby-comment cmt"># File lib/intermine/bio.rb, line 141</span>
141:             <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bed</span>(<span class="ruby-identifier">ucscCompatible</span>=<span class="ruby-keyword kw">true</span>)
142:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
143:                     <span class="ruby-identifier">header</span> = <span class="ruby-value str">&quot;&quot;</span>
144:                     <span class="ruby-identifier">results_reader</span>.<span class="ruby-identifier">each_bed</span>(<span class="ruby-identifier">ucscCompatible</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bed</span><span class="ruby-operator">|</span>
145:                         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">bed</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\s*(#|track)/</span>
146:                             <span class="ruby-identifier">header</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">bed</span>
147:                         <span class="ruby-keyword kw">else</span>
148:                             <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">bed</span>
149:                         <span class="ruby-keyword kw">end</span>
150:                     <span class="ruby-keyword kw">end</span>
151:                     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">header</span>
152:                 <span class="ruby-keyword kw">else</span>
153:                     <span class="ruby-identifier">buffer</span> = <span class="ruby-value str">&quot;&quot;</span>
154:                     <span class="ruby-identifier">results_reader</span>.<span class="ruby-identifier">each_bed</span>(<span class="ruby-identifier">ucscCompatible</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bed</span><span class="ruby-operator">|</span>
155:                         <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">bed</span>)
156:                     <span class="ruby-keyword kw">end</span>
157:                     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">buffer</span>
158:                 <span class="ruby-keyword kw">end</span>
159:             <span class="ruby-keyword kw">end</span></pre>
	          		</div>
					
				</div>

				
			</div>

		

		
			
			<div id="fasta-method" class="method-detail">
			
				<a name="fasta"></a>

				<div class="method-heading">
				
					<span class="method-name">fasta</span><span 
						class="method-args">( {|record| ...}</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
	          		<p><p>
Return the results from this query as FASTA
</p>
<p>
If a block is given, each FASTA record will be yielded in turn, and the
query will be returned, otherwise the content of the FASTA results will be
returned as one string.
</p>
<pre>
  query.fasta do |record|
     process record
  end

  puts query.fasta
</pre></p>
					
					
					
	          		<div class="method-source-code" 
						id="fasta-source">
<pre>
     <span class="ruby-comment cmt"># File lib/intermine/bio.rb, line 103</span>
103:             <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fasta</span> <span class="ruby-comment cmt"># :yields: record</span>
104:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
105:                     <span class="ruby-identifier">buffer</span> = <span class="ruby-keyword kw">nil</span>
106:                     <span class="ruby-identifier">results_reader</span>.<span class="ruby-identifier">each_fasta</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
107:                         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-value str">&quot;&gt;&quot;</span>
108:                             <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">buffer</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">nil?</span>
109:                             <span class="ruby-identifier">buffer</span> = <span class="ruby-identifier">line</span>
110:                         <span class="ruby-keyword kw">else</span>
111:                             <span class="ruby-identifier">raise</span> <span class="ruby-constant">BioError</span>, <span class="ruby-value str">&quot;Incorrect fasta - no header line&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">nil?</span>
112:                             <span class="ruby-identifier">buffer</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
113:                         <span class="ruby-keyword kw">end</span>
114:                     <span class="ruby-keyword kw">end</span>
115:                     <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">buffer</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">nil?</span>
116:                     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
117:                 <span class="ruby-keyword kw">else</span>
118:                     <span class="ruby-identifier">buffer</span> = <span class="ruby-value str">&quot;&quot;</span>
119:                     <span class="ruby-identifier">results_reader</span>.<span class="ruby-identifier">each_fasta</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
120:                         <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">line</span>)
121:                     <span class="ruby-keyword kw">end</span>
122:                     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">buffer</span>
123:                 <span class="ruby-keyword kw">end</span>
124:             <span class="ruby-keyword kw">end</span></pre>
	          		</div>
					
				</div>

				
			</div>

		

		
			
			<div id="gff--method" class="method-detail">
			
				<a name="gff3"></a>

				<div class="method-heading">
				
					<span class="method-name">gff3</span><span 
						class="method-args">() {|gff3| ...}</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
	          		<p><p>
Return the results from this query as GFF3
</p>
<p>
If a block is given, each line of the GFF3 will be yielded in turn,
omitting any header lines, which are returned at the end of the iteration,
otherwise the content of the GFF3 results will be returned as one string.
</p>
<pre>
  header = query.gff3 do |line|
     process line
  end

  puts query.gff3
</pre></p>
					
					
					
	          		<div class="method-source-code" 
						id="gff--source">
<pre>
    <span class="ruby-comment cmt"># File lib/intermine/bio.rb, line 71</span>
71:             <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gff3</span>
72:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
73:                     <span class="ruby-identifier">header</span> = <span class="ruby-value str">&quot;&quot;</span>
74:                     <span class="ruby-identifier">results_reader</span>.<span class="ruby-identifier">each_gff3</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">gff3</span><span class="ruby-operator">|</span>
75:                         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gff3</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-value str">&quot;#&quot;</span>
76:                             <span class="ruby-identifier">header</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">gff3</span>
77:                         <span class="ruby-keyword kw">else</span>
78:                             <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">gff3</span>
79:                         <span class="ruby-keyword kw">end</span>
80:                     <span class="ruby-keyword kw">end</span>
81:                     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">header</span>
82:                 <span class="ruby-keyword kw">else</span>
83:                     <span class="ruby-identifier">buffer</span> = <span class="ruby-value str">&quot;&quot;</span>
84:                     <span class="ruby-identifier">results_reader</span>.<span class="ruby-identifier">each_gff3</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">gff3</span><span class="ruby-operator">|</span>
85:                         <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">gff3</span>)
86:                     <span class="ruby-keyword kw">end</span>
87:                     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">buffer</span>
88:                 <span class="ruby-keyword kw">end</span>
89:             <span class="ruby-keyword kw">end</span></pre>
	          		</div>
					
				</div>

				
			</div>

		
		</div>
	
	

	  </div>
	</div>


	<div id="rdoc-debugging-section-dump">
	
		<div class="section">
		<h2 class="section-header">secsequence</h2>
	
		<pre>--- SEC00007
</pre>
		</div>
	
		<div class="section">
		<h2 class="section-header">seccomment</h2>
	
		<pre>--- &quot;&quot;
</pre>
		</div>
	
		<div class="section">
		<h2 class="section-header">method_list</h2>
	
		<pre>--- 
- methods: 
  - aref: M000007
    name: bed
    m_desc: |-
      &lt;p&gt;
      Return the results from this query as BED
      &lt;/p&gt;
      &lt;p&gt;
      If a block is given, each line of the BED results will be yielded in turn,
      and the header will be returned, otherwise the content of the BED results
      will be returned as one string.
      &lt;/p&gt;
      &lt;p&gt;
      If the optional parameter is set to false, then the &quot;chr&quot; prefix on the
      chromosome id will be omitted.
      &lt;/p&gt;
      &lt;pre&gt;
        header = query.bed do |line|
           process line
        end
      
        puts query.bed(false)
      &lt;/pre&gt;
    params: (ucscCompatible=true) {|bed| ...}
    visibility: public
    sourcecode: &quot;     &lt;span class=\&quot;ruby-comment cmt\&quot;&gt;# File lib/intermine/bio.rb, line 141&lt;/span&gt;\n\
      141:             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt;(&lt;span class=\&quot;ruby-identifier\&quot;&gt;ucscCompatible&lt;/span&gt;=&lt;span class=\&quot;ruby-keyword kw\&quot;&gt;true&lt;/span&gt;)\n\
      142:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;block_given?&lt;/span&gt;\n\
      143:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;header&lt;/span&gt; = &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;\n\
      144:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;results_reader&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;each_bed&lt;/span&gt;(&lt;span class=\&quot;ruby-identifier\&quot;&gt;ucscCompatible&lt;/span&gt;) &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;do&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;&lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt;&lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;\n\
      145:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;=~&lt;/span&gt; &lt;span class=\&quot;ruby-regexp re\&quot;&gt;/^\\s*(#|track)/&lt;/span&gt;\n\
      146:                             &lt;span class=\&quot;ruby-identifier\&quot;&gt;header&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt;\n\
      147:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;else&lt;/span&gt;\n\
      148:                             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;yield&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt;\n\
      149:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      150:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      151:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;header&lt;/span&gt;\n\
      152:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;else&lt;/span&gt;\n\
      153:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; = &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;\n\
      154:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;results_reader&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;each_bed&lt;/span&gt;(&lt;span class=\&quot;ruby-identifier\&quot;&gt;ucscCompatible&lt;/span&gt;) &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;do&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;&lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt;&lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;\n\
      155:                         &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;concat&lt;/span&gt;(&lt;span class=\&quot;ruby-identifier\&quot;&gt;bed&lt;/span&gt;)\n\
      156:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      157:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;\n\
      158:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      159:             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;&quot;
  - aref: M000006
    name: fasta
    m_desc: |-
      &lt;p&gt;
      Return the results from this query as FASTA
      &lt;/p&gt;
      &lt;p&gt;
      If a block is given, each FASTA record will be yielded in turn, and the
      query will be returned, otherwise the content of the FASTA results will be
      returned as one string.
      &lt;/p&gt;
      &lt;pre&gt;
        query.fasta do |record|
           process record
        end
      
        puts query.fasta
      &lt;/pre&gt;
    params: ( {|record| ...}
    visibility: public
    sourcecode: &quot;     &lt;span class=\&quot;ruby-comment cmt\&quot;&gt;# File lib/intermine/bio.rb, line 103&lt;/span&gt;\n\
      103:             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;fasta&lt;/span&gt; &lt;span class=\&quot;ruby-comment cmt\&quot;&gt;# :yields: record&lt;/span&gt;\n\
      104:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;block_given?&lt;/span&gt;\n\
      105:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; = &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;nil&lt;/span&gt;\n\
      106:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;results_reader&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;each_fasta&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;do&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;&lt;span class=\&quot;ruby-identifier\&quot;&gt;line&lt;/span&gt;&lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;\n\
      107:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;line&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;start_with?&lt;/span&gt; &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;&amp;gt;&amp;quot;&lt;/span&gt;\n\
      108:                             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;yield&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;unless&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;nil?&lt;/span&gt;\n\
      109:                             &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; = &lt;span class=\&quot;ruby-identifier\&quot;&gt;line&lt;/span&gt;\n\
      110:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;else&lt;/span&gt;\n\
      111:                             &lt;span class=\&quot;ruby-identifier\&quot;&gt;raise&lt;/span&gt; &lt;span class=\&quot;ruby-constant\&quot;&gt;BioError&lt;/span&gt;, &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;Incorrect fasta - no header line&amp;quot;&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;nil?&lt;/span&gt;\n\
      112:                             &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;line&lt;/span&gt;\n\
      113:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      114:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      115:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;yield&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;unless&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;nil?&lt;/span&gt;\n\
      116:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;self&lt;/span&gt;\n\
      117:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;else&lt;/span&gt;\n\
      118:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; = &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;\n\
      119:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;results_reader&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;each_fasta&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;do&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;&lt;span class=\&quot;ruby-identifier\&quot;&gt;line&lt;/span&gt;&lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;\n\
      120:                         &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;concat&lt;/span&gt;(&lt;span class=\&quot;ruby-identifier\&quot;&gt;line&lt;/span&gt;)\n\
      121:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      122:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;\n\
      123:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      124:             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;&quot;
  - aref: M000005
    name: gff3
    m_desc: |-
      &lt;p&gt;
      Return the results from this query as GFF3
      &lt;/p&gt;
      &lt;p&gt;
      If a block is given, each line of the GFF3 will be yielded in turn,
      omitting any header lines, which are returned at the end of the iteration,
      otherwise the content of the GFF3 results will be returned as one string.
      &lt;/p&gt;
      &lt;pre&gt;
        header = query.gff3 do |line|
           process line
        end
      
        puts query.gff3
      &lt;/pre&gt;
    params: () {|gff3| ...}
    visibility: public
    sourcecode: &quot;    &lt;span class=\&quot;ruby-comment cmt\&quot;&gt;# File lib/intermine/bio.rb, line 71&lt;/span&gt;\n\
      71:             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;\n\
      72:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;block_given?&lt;/span&gt;\n\
      73:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;header&lt;/span&gt; = &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;\n\
      74:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;results_reader&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;each_gff3&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;do&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;&lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;&lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;\n\
      75:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;start_with?&lt;/span&gt; &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;\n\
      76:                             &lt;span class=\&quot;ruby-identifier\&quot;&gt;header&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;\n\
      77:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;else&lt;/span&gt;\n\
      78:                             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;yield&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;\n\
      79:                         &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      80:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      81:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;header&lt;/span&gt;\n\
      82:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;else&lt;/span&gt;\n\
      83:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt; = &lt;span class=\&quot;ruby-value str\&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;\n\
      84:                     &lt;span class=\&quot;ruby-identifier\&quot;&gt;results_reader&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;each_gff3&lt;/span&gt; &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;do&lt;/span&gt; &lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;&lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;&lt;span class=\&quot;ruby-operator\&quot;&gt;|&lt;/span&gt;\n\
      85:                         &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;.&lt;span class=\&quot;ruby-identifier\&quot;&gt;concat&lt;/span&gt;(&lt;span class=\&quot;ruby-identifier\&quot;&gt;gff3&lt;/span&gt;)\n\
      86:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      87:                     &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;ruby-identifier\&quot;&gt;buffer&lt;/span&gt;\n\
      88:                 &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;\n\
      89:             &lt;span class=\&quot;ruby-keyword kw\&quot;&gt;end&lt;/span&gt;&quot;
  category: Instance
  type: Public
</pre>
		</div>
	
		<div class="section">
		<h2 class="section-header">sectitle</h2>
	
		<pre>--- 
</pre>
		</div>
	
	</div>

	<div id="validator-badges">
	  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
	  <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish 
		Rdoc Generator</a></small>.</p>
	</div>

</body>
</html>

